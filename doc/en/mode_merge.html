<!DOCTYPE html>
<html lang="en" >
<head>
    <title>Mode merge - Atomsk - Pierre Hirel</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" media="screen" type="text/css" title="Default" href="./default.css" />
    <link rel="icon" href="../img/atomsk_logo.png" type="image/png" />
</head>
   
<body>

<p><a href="./index.html">Back to main menu</a></p>

<h2>Mode: merge</h2>

<h4>Syntax</h4>

<p><code>atomsk --merge [&#60;merge_dir&#62;] &#60;Nfiles&#62; &#60;file1&#62;...&#60;fileN&#62; &#60;outputfile&#62; [&#60;formats&#62;] [options]</code></p>

<p><code>atomsk -M [&#60;merge_dir&#62;] &#60;Nfiles&#62; &#60;file1&#62;...&#60;fileN&#62; &#60;outputfile&#62; [&#60;formats&#62;] [options]</code></p>


<h4>Description</h4>

<p>This mode merges several systems into one, either by gathering atoms from different systems into the same box or by juxtaposing several systems along an axis. The results are output in the specified &#60;outputfile&#62; and &#60;formats&#62;.</p>

<p>The integer &#60;Nfiles&#62; indicates how many systems must be merged. It must be followed by the files names &#60;file1&#62; to &#60;fileN&#62;.</p>

<p>&#60;merge_dir&#62; is an optional parameter. By default, when it is not used, the final supercell parameters are the ones read from the &#60;file1&#62;, and atom positions read from all files are assumed to be in that same supercell.</p>

<p>When used, the optional parameter &#60;merge_dir&#62; must be 'x', 'y' or 'z', and indicates if the systems must be concatenated along a particular direction. For instance if &#60;merge_dir&#62;=Y then the supercells of all the systems will be juxtaposed along the direction <code>H(2,:)</code> of the &#60;file1&#62;. Of course this makes sense only if all systems have the same geometry, i.e. the dimension along &#60;merge_dir&#62; can be anything but the supercells parameters along the other two directions must be the same for all systems. The result may not make any sense when trying to concatenate a triclinic box with an orthorhombic, for instance.</p>

<p>Beware that <code>atomsk</code> does not "automagically" shift atomic positions, find the optimum interfaces or whatsoever. It is up to you to build, for instance, one system in one half of the supercell, the other system in the other half, and then use this mode to merge them. For quickly redefining the dimensions of the final system one can use the <a href="./option_rebox.html">option <code>-rebox</code></a>.</p>

<p>Auxiliary properties are conserved when merging systems, i.e. each atom keeps the auxiliary properties that are defined for it. If a property is defined in some files but not all of them, that property will be assigned a zero value for atoms for which it is not defined.</p>

<p>If you use this mode with one or several <a href="./options.html">options</a> they will be applied after the merge.</p>


<h4>Examples</h4>

<ul>
<li><code class="command">atomsk --merge 2 fccal_bottom.cfg bcciron_top.xsf interface.xyz xsf</code>
<p>This will merge all atoms <code>fccal_bottom.cfg</code> and <code>bcciron_top.xsf</code> in the same box (the one defined in <code>fccal_bottom.cfg</code>), and output the result in <code>interface.xyz</code> and <code>interface.xsf</code>.</p></li>

<li><code class="command">atomsk --merge z 3 one.cfg two.xsf three.cfg final.xsf</code>
<p>This will concatenate the three systems <code>one.cfg</code>, <code>two.xsf</code> and <code>three.cfg</code> along the Z axis, and output the result in <code>final.xsf</code>.</p></li>

<li><code class="command">atomsk --merge x 4 file.cfg file.cfg file.cfg file.cfg final.xsf</code>
<p>This will concatenate the file <code>file.cfg</code> four times along X.</p></li>

<li><p>You may also want to look at the scripts in the "examples" folder provided with the program. The folder "<code>Cu_Fe_interface</code>" contains a bash script that builds two slabs, one of fcc copper and one of bcc iron, and merges them to form an interface.</p></li>
</ul>

<p><a href="./index.html">Back to main menu</a></p>

</body>

</html>